================================================================
           银行合同生成系统 - 源码部署指南 (Windows Server)
================================================================

如果您决定不使用 EXE 打包，而是将整份源码部署到服务器，请按照以下步骤操作。

----------------------------------------------------------------
1. 准备工作 (在您的 个人电脑 上完成)
----------------------------------------------------------------
为了避免在服务器上安装 Node.js 的麻烦，建议先在本地构建好前端：

1. 确保已运行过前端构建命令：
   cd frontend
   npm install
   npm run build

2. 检查 `backend/static` 目录
   确保 `backend/static` 文件夹里有文件 (index.html, assets 等)。
   如果有，说明前端资源已准备好。

3. 打包整个文件夹
   将 `bank-contract-system` 整个文件夹压缩为 `.zip`。

----------------------------------------------------------------
2. 服务器环境安装 (在 Windows Server 上)
----------------------------------------------------------------
本包已内置 Python 安装程序，无需下载。

1. 安装 Python
   - 找到 `backend` 目录下的 `python-3.11.9-amd64.exe`。
   - 双击安装。
   - ★重要★: 安装向导第一页务必勾选 "Add python.exe to PATH" (添加到环境变量)。

----------------------------------------------------------------
3. 部署与启动
----------------------------------------------------------------
1. 解压文件
   将 zip 包解压到服务器任意位置 (例如 D:\BankSystem)。

2. 一键启动
   进入 `backend` 文件夹，双击运行：
   👉 `run_source.bat`

   (脚本会自动优先检测 `packages` 目录进行离线安装。如果不存在，则尝试联网下载)

Q: 启动后报错 "ModuleNotFoundError"？
A: 请确保 `backend/packages` 文件夹完整，里面应该包含几十个 .whl 文件。
   如果依然报错，请确认服务器 Python 版本是否为 3.10/3.11 (与下载的包兼容)。

================================================================
祝部署顺利！
